<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Summarizing BIOM tables &#8212; biom-format.org</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/haiku.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The BIOM Format License" href="../BIOM_LICENSE.html" />
    <link rel="prev" title="Adding sample and observation metadata to biom files" href="adding_metadata.html" /> 
  </head><body>
  
  <a href="https://github.com/biocore/biom-format"><img
    style="position: absolute; top: 0; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
    alt="Fork me on GitHub"></a>

      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>biom-format.org</span></a></h1>
        <h2 class="heading"><span>Summarizing BIOM tables</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="adding_metadata.html">Adding sample and observation metadata to biom files</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../BIOM_LICENSE.html">The BIOM Format License</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="summarizing-biom-tables">
<span id="id1"></span><h1>Summarizing BIOM tables<a class="headerlink" href="#summarizing-biom-tables" title="Permalink to this heading">¶</a></h1>
<p>If you have an existing BIOM file and want to compile a summary of the information in that table, you can use the <code class="docutils literal notranslate"><span class="pre">biom</span> <span class="pre">summarize-table</span></code> command.</p>
<p>To get help with <code class="docutils literal notranslate"><span class="pre">biom</span> <span class="pre">summarize-table</span></code> you can call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">biom</span> <span class="n">summarize</span><span class="o">-</span><span class="n">table</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
<p>This command takes a BIOM file or gzipped BIOM file as input, and will print a summary of the count information on a per-sample basis to the new file specified by the <code class="docutils literal notranslate"><span class="pre">-o</span></code> parameter. The example file used in the commands below can be found in the <code class="docutils literal notranslate"><span class="pre">biom-format/examples</span></code> directory.</p>
<section id="summarizing-sample-data">
<h2>Summarizing sample data<a class="headerlink" href="#summarizing-sample-data" title="Permalink to this heading">¶</a></h2>
<p>To summarize the per-sample data in a BIOM file, you can run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">biom</span> <span class="n">summarize</span><span class="o">-</span><span class="n">table</span> <span class="o">-</span><span class="n">i</span> <span class="n">rich_sparse_otu_table</span><span class="o">.</span><span class="n">biom</span> <span class="o">-</span><span class="n">o</span> <span class="n">rich_sparse_otu_table_summary</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>The following information will be written to <code class="docutils literal notranslate"><span class="pre">rich_sparse_otu_table_summary.txt</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Num</span> <span class="n">samples</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">Num</span> <span class="n">observations</span><span class="p">:</span> <span class="mi">5</span>
<span class="n">Total</span> <span class="n">count</span><span class="p">:</span> <span class="mi">27</span>
<span class="n">Table</span> <span class="n">density</span> <span class="p">(</span><span class="n">fraction</span> <span class="n">of</span> <span class="n">non</span><span class="o">-</span><span class="n">zero</span> <span class="n">values</span><span class="p">):</span> <span class="mf">0.500</span>

<span class="n">Counts</span><span class="o">/</span><span class="n">sample</span> <span class="n">summary</span><span class="p">:</span>
 <span class="n">Min</span><span class="p">:</span> <span class="mf">3.0</span>
 <span class="n">Max</span><span class="p">:</span> <span class="mf">7.0</span>
 <span class="n">Median</span><span class="p">:</span> <span class="mf">4.000</span>
 <span class="n">Mean</span><span class="p">:</span> <span class="mf">4.500</span>
 <span class="n">Std</span><span class="o">.</span> <span class="n">dev</span><span class="o">.</span><span class="p">:</span> <span class="mf">1.500</span>
 <span class="n">Sample</span> <span class="n">Metadata</span> <span class="n">Categories</span><span class="p">:</span> <span class="n">LinkerPrimerSequence</span><span class="p">;</span> <span class="n">BarcodeSequence</span><span class="p">;</span> <span class="n">Description</span><span class="p">;</span> <span class="n">BODY_SITE</span>
 <span class="n">Observation</span> <span class="n">Metadata</span> <span class="n">Categories</span><span class="p">:</span> <span class="n">taxonomy</span>

<span class="n">Counts</span><span class="o">/</span><span class="n">sample</span> <span class="n">detail</span><span class="p">:</span>
 <span class="n">Sample5</span><span class="p">:</span> <span class="mf">3.0</span>
 <span class="n">Sample2</span><span class="p">:</span> <span class="mf">3.0</span>
 <span class="n">Sample6</span><span class="p">:</span> <span class="mf">4.0</span>
 <span class="n">Sample3</span><span class="p">:</span> <span class="mf">4.0</span>
 <span class="n">Sample4</span><span class="p">:</span> <span class="mf">6.0</span>
 <span class="n">Sample1</span><span class="p">:</span> <span class="mf">7.0</span>
</pre></div>
</div>
<p>As you can see, general summary information about the table is provided, including the number of samples, the number of observations, the total count (i.e., the sum of all values in the table), and so on, followed by the per-sample counts.</p>
</section>
<section id="summarizing-sample-data-qualitatively">
<h2>Summarizing sample data qualitatively<a class="headerlink" href="#summarizing-sample-data-qualitatively" title="Permalink to this heading">¶</a></h2>
<p>To summarize the per-sample data in a BIOM file qualitatively, where the number of unique observations per sample (rather than the total count of observations per sample) are provided, you can run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">biom</span> <span class="n">summarize</span><span class="o">-</span><span class="n">table</span> <span class="o">-</span><span class="n">i</span> <span class="n">rich_sparse_otu_table</span><span class="o">.</span><span class="n">biom</span> <span class="o">--</span><span class="n">qualitative</span> <span class="o">-</span><span class="n">o</span> <span class="n">rich_sparse_otu_table_qual_summary</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>The following information will be written to <code class="docutils literal notranslate"><span class="pre">rich_sparse_otu_table_qual_summary.txt</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Num</span> <span class="n">samples</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">Num</span> <span class="n">observations</span><span class="p">:</span> <span class="mi">5</span>

<span class="n">Observations</span><span class="o">/</span><span class="n">sample</span> <span class="n">summary</span><span class="p">:</span>
 <span class="n">Min</span><span class="p">:</span> <span class="mi">1</span>
 <span class="n">Max</span><span class="p">:</span> <span class="mi">4</span>
 <span class="n">Median</span><span class="p">:</span> <span class="mf">2.500</span>
 <span class="n">Mean</span><span class="p">:</span> <span class="mf">2.500</span>
 <span class="n">Std</span><span class="o">.</span> <span class="n">dev</span><span class="o">.</span><span class="p">:</span> <span class="mf">0.957</span>
 <span class="n">Sample</span> <span class="n">Metadata</span> <span class="n">Categories</span><span class="p">:</span> <span class="n">LinkerPrimerSequence</span><span class="p">;</span> <span class="n">BarcodeSequence</span><span class="p">;</span> <span class="n">Description</span><span class="p">;</span> <span class="n">BODY_SITE</span>
 <span class="n">Observation</span> <span class="n">Metadata</span> <span class="n">Categories</span><span class="p">:</span> <span class="n">taxonomy</span>

<span class="n">Observations</span><span class="o">/</span><span class="n">sample</span> <span class="n">detail</span><span class="p">:</span>
 <span class="n">Sample5</span><span class="p">:</span> <span class="mi">1</span>
 <span class="n">Sample4</span><span class="p">:</span> <span class="mi">2</span>
 <span class="n">Sample1</span><span class="p">:</span> <span class="mi">2</span>
 <span class="n">Sample6</span><span class="p">:</span> <span class="mi">3</span>
 <span class="n">Sample2</span><span class="p">:</span> <span class="mi">3</span>
</pre></div>
</div>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="adding_metadata.html">Adding sample and observation metadata to biom files</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../BIOM_LICENSE.html">The BIOM Format License</a>&#160;&#160;»
        </p>

      </div>


    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2022 The BIOM Format Development Team.
      Last updated on May 10, 2023.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.0.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6636235-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>